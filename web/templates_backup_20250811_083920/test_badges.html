{% extends "base.html" %}

{% block title %}測試徽章系統 - Linker{% endblock %}

{% block styles %}
<style>
  .test-section {
    margin: 40px 0;
    padding: 20px 0;
    border-bottom: 2px solid var(--border);
  }
  
  .test-title {
    font-size: 1.5rem;
    font-weight: 600;
    margin-bottom: 24px;
    color: var(--text);
  }
  
  .test-subtitle {
    font-size: 1rem;
    font-weight: 500;
    margin: 20px 0 16px;
    color: var(--text-muted);
  }
  
  .badge-showcase {
    display: flex;
    flex-wrap: wrap;
    gap: 12px;
    padding: 20px;
    background: var(--surface);
    border-radius: var(--radius);
    margin-bottom: 20px;
  }
</style>
{% endblock %}

{% block content %}
<div class="container">
  <h1 style="text-align: center; margin: 40px 0;">統一徽章系統測試頁</h1>
  
  <!-- 基礎變體 -->
  <section class="test-section">
    <h2 class="test-title">基礎徽章變體</h2>
    
    <div class="badge-showcase">
      <span class="badge">預設徽章</span>
      <span class="badge" data-variant="primary">主要徽章</span>
      <span class="badge" data-variant="success">成功徽章</span>
      <span class="badge" data-variant="warning">警告徽章</span>
      <span class="badge" data-variant="error">錯誤徽章</span>
      <span class="badge" data-variant="info">信息徽章</span>
      <span class="badge" data-variant="neutral">中性徽章</span>
    </div>
    
    <h3 class="test-subtitle">實心變體</h3>
    <div class="badge-showcase">
      <span class="badge" data-variant="solid">實心主要</span>
      <span class="badge" data-variant="solid-success">實心成功</span>
      <span class="badge" data-variant="solid-warning">實心警告</span>
      <span class="badge" data-variant="solid-error">實心錯誤</span>
    </div>
  </section>
  
  <!-- 尺寸變體 -->
  <section class="test-section">
    <h2 class="test-title">徽章尺寸</h2>
    
    <div class="badge-showcase">
      <span class="badge" data-variant="primary" data-size="sm">小尺寸</span>
      <span class="badge" data-variant="primary">預設尺寸</span>
      <span class="badge" data-variant="primary" data-size="lg">大尺寸</span>
    </div>
    
    <h3 class="test-subtitle">統計徽章（XL尺寸）</h3>
    <div class="badge-showcase">
      <div class="badge" data-variant="primary" data-size="xl">
        <span class="badge-label">總知識點</span>
        <span class="badge-value">128</span>
      </div>
      <div class="badge" data-variant="warning" data-size="xl">
        <span class="badge-label">待複習</span>
        <span class="badge-value">24</span>
      </div>
      <div class="badge" data-variant="success" data-size="xl">
        <span class="badge-label">掌握度</span>
        <span class="badge-value">82%</span>
      </div>
    </div>
  </section>
  
  <!-- 錯誤分類徽章 -->
  <section class="test-section">
    <h2 class="test-title">錯誤分類徽章</h2>
    
    <div class="badge-showcase">
      <span class="badge" data-category="systematic">系統性錯誤</span>
      <span class="badge" data-category="isolated">單一性錯誤</span>
      <span class="badge" data-category="enhancement">可以更好</span>
      <span class="badge" data-category="other">其他錯誤</span>
    </div>
    
    <h3 class="test-subtitle">小尺寸分類徽章</h3>
    <div class="badge-showcase">
      <span class="badge" data-category="systematic" data-size="sm">系統性</span>
      <span class="badge" data-category="isolated" data-size="sm">單一性</span>
      <span class="badge" data-category="enhancement" data-size="sm">優化</span>
      <span class="badge" data-category="other" data-size="sm">其他</span>
    </div>
  </section>
  
  <!-- 掌握度徽章 -->
  <section class="test-section">
    <h2 class="test-title">掌握度徽章</h2>
    
    <div class="badge-showcase">
      <span class="badge" data-mastery="low">20%</span>
      <span class="badge" data-mastery="medium">50%</span>
      <span class="badge" data-mastery="high">85%</span>
    </div>
    
    <h3 class="test-subtitle">帶尺寸的掌握度徽章</h3>
    <div class="badge-showcase">
      <span class="badge" data-mastery="low" data-size="sm">低掌握</span>
      <span class="badge" data-mastery="medium">中掌握</span>
      <span class="badge" data-mastery="high" data-size="lg">高掌握</span>
    </div>
  </section>
  
  <!-- 特殊樣式 -->
  <section class="test-section">
    <h2 class="test-title">特殊樣式徽章</h2>
    
    <h3 class="test-subtitle">可點擊徽章</h3>
    <div class="badge-showcase">
      <span class="badge" data-variant="primary" data-clickable="true">點擊我</span>
      <span class="badge" data-variant="success" data-clickable="true">可互動</span>
      <span class="badge" data-variant="warning" data-clickable="true">有懸停效果</span>
    </div>
    
    <h3 class="test-subtitle">帶圖標徽章</h3>
    <div class="badge-showcase">
      <span class="badge" data-variant="success">
        <svg class="badge-icon" fill="currentColor" viewBox="0 0 20 20">
          <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
        </svg>
        已完成
      </span>
      <span class="badge" data-variant="warning">
        <svg class="badge-icon" fill="currentColor" viewBox="0 0 20 20">
          <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-11a1 1 0 10-2 0v2H7a1 1 0 100 2h2v2a1 1 0 102 0v-2h2a1 1 0 100-2h-2V7z" clip-rule="evenodd"/>
        </svg>
        進行中
      </span>
    </div>
    
    <h3 class="test-subtitle">帶計數徽章</h3>
    <div class="badge-showcase">
      <span class="badge" data-variant="primary">
        新消息
        <span class="badge-count">5</span>
      </span>
      <span class="badge" data-variant="error">
        錯誤
        <span class="badge-count">12</span>
      </span>
      <span class="badge" data-variant="success">
        已完成
        <span class="badge-count">99+</span>
      </span>
    </div>
    
    <h3 class="test-subtitle">狀態點徽章</h3>
    <div class="badge-showcase">
      <span class="badge badge-dot" data-variant="success">在線</span>
      <span class="badge badge-dot" data-variant="warning">離開</span>
      <span class="badge badge-dot" data-variant="error">忙碌</span>
      <span class="badge badge-dot" data-variant="neutral">離線</span>
    </div>
  </section>
  
  <!-- 動畫效果 -->
  <section class="test-section">
    <h2 class="test-title">動畫效果</h2>
    
    <div class="badge-showcase">
      <span class="badge" data-variant="error" data-pulse="true">脈動效果</span>
      <span class="badge" data-variant="warning" data-blink="true">閃爍效果（僅一次）</span>
      <span class="badge" data-variant="success">無動畫</span>
    </div>
  </section>
  
  <!-- 徽章組合 -->
  <section class="test-section">
    <h2 class="test-title">徽章組合使用</h2>
    
    <h3 class="test-subtitle">徽章組</h3>
    <div class="badge-showcase">
      <div class="badge-group">
        <span class="badge" data-variant="primary" data-size="sm">React</span>
        <span class="badge" data-variant="primary" data-size="sm">TypeScript</span>
        <span class="badge" data-variant="primary" data-size="sm">TailwindCSS</span>
      </div>
    </div>
    
    <h3 class="test-subtitle">混合樣式</h3>
    <div class="badge-showcase">
      <span class="badge" data-category="systematic">文法錯誤</span>
      <span class="badge" data-mastery="low">需複習</span>
      <span class="badge" data-variant="solid-success">已掌握</span>
      <span class="badge badge-dot" data-variant="warning">待處理</span>
    </div>
  </section>
  
  <!-- 向後兼容測試 -->
  <section class="test-section">
    <h2 class="test-title">向後兼容性測試（舊類名）</h2>
    
    <div class="badge-showcase">
      <span class="tag">舊 .tag 類</span>
      <span class="category-badge">舊 .category-badge</span>
      <span class="mastery-badge">舊 .mastery-badge</span>
      <span class="error-category-badge">舊 .error-category-badge</span>
      <span class="subtype-badge">舊 .subtype-badge</span>
    </div>
  </section>
</div>

<script>
  // 測試點擊效果
  document.querySelectorAll('.badge[data-clickable="true"]').forEach(badge => {
    badge.addEventListener('click', () => {
      console.log('Badge clicked:', badge.textContent);
      badge.style.transform = 'scale(0.95)';
      setTimeout(() => {
        badge.style.transform = '';
      }, 100);
    });
  });
  
  // 重新觸發閃爍動畫
  document.querySelector('.badge[data-blink="true"]').addEventListener('click', function() {
    this.style.animation = 'none';
    setTimeout(() => {
      this.style.animation = 'badgeBlink 1s ease-in-out';
    }, 10);
  });
</script>
{% endblock %}