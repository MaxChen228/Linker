/* ================================================
   設計令牌 - 文字系統 v2.0
   三層架構：原始值 → 語義組合 → 組件應用
   ================================================ */

/* ========== Layer 1: 原始值層 (Primitive Values) ========== */
:root {
  --font-sans: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 
               'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
  --font-mono: 'SF Mono', 'Monaco', 'Inconsolata', 'Fira Code', 'Consolas', monospace;
  --font-chinese: "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "WenQuanYi Micro Hei", sans-serif;
  --text-scale-xs: 0.75rem;
  --text-scale-sm: 0.875rem;
  --text-scale-base: 1rem;
  --text-scale-lg: 1.125rem;
  --text-scale-xl: 1.25rem;
  --text-scale-2xl: 1.5rem;
  --text-scale-3xl: 1.875rem;
  --text-scale-4xl: 2.25rem;
  --text-scale-5xl: 3rem;
  --weight-normal: 400;
  --weight-medium: 500;
  --weight-bold: 700;
  --height-none: 1;
  --height-tight: 1.2;
  --height-snug: 1.4;
  --height-normal: 1.5;
  --height-relaxed: 1.6;
  --height-chinese: 1.7;
  --spacing-tight: -0.025em;
  --spacing-normal: 0;
  --spacing-wide: 0.025em;
  --spacing-wider: 0.05em;
  --heading-1-size: var(--text-scale-5xl);
  --heading-1-weight: var(--weight-bold);
  --heading-1-height: var(--height-tight);
  --heading-1-spacing: var(--spacing-tight);
  
  --heading-2-size: var(--text-scale-4xl);
  --heading-2-weight: var(--weight-bold);
  --heading-2-height: var(--height-tight);
  --heading-2-spacing: var(--spacing-tight);
  
  --heading-3-size: var(--text-scale-3xl);
  --heading-3-weight: var(--weight-semibold);
  --heading-3-height: var(--height-snug);
  --heading-3-spacing: var(--spacing-normal);
  
  --body-size: var(--text-scale-base);
  --body-weight: var(--weight-normal);
  --body-height: var(--height-relaxed);
  --body-spacing: var(--spacing-normal);
  
  --body-lg-size: var(--text-scale-lg);
  --body-lg-weight: var(--weight-normal);
  --body-lg-height: var(--height-relaxed);
  --body-lg-spacing: var(--spacing-normal);
  
  --caption-size: var(--text-scale-xs);
  --caption-weight: var(--weight-normal);
  --caption-height: var(--height-normal);
  --caption-spacing: var(--spacing-normal);
  
  --overline-size: var(--text-scale-xs);
  --overline-weight: var(--weight-semibold);
  --overline-height: var(--height-normal);
  --overline-spacing: var(--spacing-wider);
  
  --text-responsive-base: clamp(0.875rem, 1rem, 1.125rem);
  --text-responsive-lg: clamp(1rem, 1.125rem + 0.5vw, 1.25rem);
  --text-responsive-xl: clamp(1.125rem, 1.25rem + 1vw, 1.5rem);
  --text-responsive-2xl: clamp(1.25rem, 1.5rem + 1.5vw, 2rem);
  --text-responsive-3xl: clamp(1.5rem, 1.875rem + 2vw, 2.5rem);
  --text-responsive-4xl: clamp(1.875rem, 2.25rem + 2.5vw, 3rem);
  --text-responsive-5xl: clamp(2.25rem, 3rem + 3vw, 4rem);
  --heading-responsive-1: var(--text-responsive-5xl);
  --heading-responsive-2: var(--text-responsive-4xl);
  --heading-responsive-3: var(--text-responsive-3xl);
  --text-chinese-height: var(--height-chinese);
  --text-chinese-spacing: 0.05em;
  --text-mixed-spacing: 0.1em;
  
  /* 中文標點優化 */
}

/* ========== Layer 2: 語義組合層 (Semantic Tokens) ========== */

/* ========== Layer 3: 組件應用層 (Component Tokens) ========== */

/* ========== 響應式文字系統 (Responsive Typography) ========== */

/* ========== 中文優化系統 (Chinese Typography) ========== */

/* 中文字體類別 */
.font-chinese {
  font-family: var(--font-chinese);
  line-height: var(--text-chinese-height);
  letter-spacing: var(--text-chinese-spacing);
}

/* 中英混排優化 */
.text-mixed {
  word-spacing: var(--text-mixed-spacing);
}

/* ========== 暗色模式優化 (Dark Mode) ========== */
@media (prefers-color-scheme: dark) {
  :root {
    --body-weight: 300;
    --heading-1-weight: 600;
    --heading-2-weight: 600;
    --heading-3-weight: 500;
    --heading-4-weight: 500;
    
    /* 暗色模式下間距微調 */
    --body-spacing: 0.01em;
  }
}

/* ========== 高對比度模式 (High Contrast) ========== */
@media (prefers-contrast: high) {
  :root {
    --body-weight: var(--weight-medium);
    --caption-weight: var(--weight-medium);
  }
}

/* ========== 減少動態效果模式 (Reduced Motion) ========== */
@media (prefers-reduced-motion: reduce) {
  :root {
    /* 在減少動態效果模式下，可以調整某些視覺參數 */
    --body-height: var(--height-normal);
  }
}

/* ========== 實用工具類別 (Utility Classes) ========== */
.text-heading-1 {
  font-size: var(--heading-1-size);
  font-weight: var(--heading-1-weight);
  line-height: var(--heading-1-height);
  letter-spacing: var(--heading-1-spacing);
}

.text-heading-2 {
  font-size: var(--heading-2-size);
  font-weight: var(--heading-2-weight);
  line-height: var(--heading-2-height);
  letter-spacing: var(--heading-2-spacing);
}

.text-heading-3 {
  font-size: var(--heading-3-size);
  font-weight: var(--heading-3-weight);
  line-height: var(--heading-3-height);
  letter-spacing: var(--heading-3-spacing);
}

.text-body {
  font-size: var(--body-size);
  font-weight: var(--body-weight);
  line-height: var(--body-height);
  letter-spacing: var(--body-spacing);
}

.text-body-lg {
  font-size: var(--body-lg-size);
  font-weight: var(--body-lg-weight);
  line-height: var(--body-lg-height);
  letter-spacing: var(--body-lg-spacing);
}

.text-caption {
  font-size: var(--caption-size);
  font-weight: var(--caption-weight);
  line-height: var(--caption-height);
  letter-spacing: var(--caption-spacing);
}

.text-overline {
  font-size: var(--overline-size);
  font-weight: var(--overline-weight);
  line-height: var(--overline-height);
  letter-spacing: var(--overline-spacing);
  text-transform: uppercase;
}

/* 響應式工具類別 */
.text-responsive-h1 {
  font-size: var(--heading-responsive-1);
  font-weight: var(--heading-1-weight);
  line-height: var(--heading-1-height);
}

.text-responsive-h2 {
  font-size: var(--heading-responsive-2);
  font-weight: var(--heading-2-weight);
  line-height: var(--heading-2-height);
}

.text-responsive-body {
  font-size: var(--text-responsive-base);
  font-weight: var(--body-weight);
  line-height: var(--body-height);
}