{
  "timestamp": "2025-08-14T22:46:48.177590",
  "api_interface_analysis": {
    "method_comparison": {
      "get_statistics": {
        "json_has": true,
        "db_has": true,
        "both_available": true
      },
      "get_active_points": {
        "json_has": true,
        "db_has": true,
        "both_available": true
      },
      "get_review_candidates": {
        "json_has": true,
        "db_has": true,
        "both_available": true
      },
      "get_learning_recommendations": {
        "json_has": true,
        "db_has": false,
        "both_available": false
      },
      "edit_knowledge_point": {
        "json_has": true,
        "db_has": false,
        "both_available": false
      },
      "delete_knowledge_point": {
        "json_has": true,
        "db_has": true,
        "both_available": true
      },
      "restore_knowledge_point": {
        "json_has": true,
        "db_has": false,
        "both_available": false
      }
    },
    "compatibility_score": 0.5714285714285714,
    "total_methods_checked": 7
  },
  "data_model_analysis": {
    "error_categories": [
      "systematic",
      "isolated",
      "enhancement",
      "other"
    ],
    "category_count": 4,
    "model_consistency": true,
    "note": "兩種模式使用完全相同的 KnowledgePoint 和 ErrorCategory 模型"
  },
  "statistics_consistency": {
    "metric_comparison": {
      "knowledge_points": {
        "json": 43,
        "db": 37,
        "match": false,
        "diff_percent": 13.953488372093023
      },
      "total_practices": {
        "json": 47,
        "db": 3,
        "match": false,
        "diff_percent": 93.61702127659575
      },
      "correct_count": {
        "json": 0,
        "db": 0,
        "match": true,
        "diff_percent": 0.0
      },
      "mistake_count": {
        "json": 47,
        "db": 3,
        "match": false,
        "diff_percent": 93.61702127659575
      }
    },
    "consistency_score": 0.25,
    "format_consistency": 1.0,
    "json_stats": {
      "total_practices": 47,
      "correct_count": 0,
      "mistake_count": 47,
      "accuracy": 0.0,
      "knowledge_points": 43,
      "avg_mastery": 0.004651,
      "category_distribution": {
        "系統性錯誤": 20,
        "單一性錯誤": 9,
        "可以更好": 9,
        "其他錯誤": 5
      },
      "subtype_distribution": {
        "verb_conjugation": 3,
        "naturalness": 6,
        "style": 9,
        "vocabulary": 5,
        "omission": 2,
        "agreement": 3,
        "preposition": 5,
        "tense": 2,
        "unclassified": 4,
        "collocation": 2,
        "test": 2
      },
      "due_reviews": 32
    },
    "db_stats": {
      "total_practices": 3,
      "correct_count": 0,
      "mistake_count": 3,
      "accuracy": 0.0,
      "knowledge_points": 37,
      "avg_mastery": 0.005405,
      "category_distribution": {
        "系統性錯誤": 16,
        "單一性錯誤": 8,
        "可以更好": 8,
        "其他錯誤": 5
      },
      "subtype_distribution": {
        "unclassified": 4,
        "test": 2,
        "naturalness": 6,
        "style": 7,
        "agreement": 2,
        "verb_conjugation": 2,
        "collocation": 2,
        "omission": 2,
        "preposition": 3,
        "vocabulary": 6,
        "tense": 1
      },
      "due_reviews": 32
    }
  },
  "performance_comparison": {
    "statistics_calculation": {
      "json_time": 1.621246337890625e-05,
      "db_time": 2.86102294921875e-06,
      "ratio": 0.00286102294921875
    },
    "data_retrieval": {
      "json_time": 3.0994415283203125e-06,
      "db_time": 9.5367431640625e-07,
      "ratio": 0.00095367431640625
    },
    "average_ratio": 0.0019073486328125,
    "performance_score": 1.0
  },
  "method_availability": {
    "json_methods": 16,
    "db_methods": 30,
    "common_methods": 16,
    "json_only_methods": [],
    "db_only_methods": [
      "get_knowledge_point_async",
      "export_to_json",
      "update_knowledge_point_async",
      "get_knowledge_points_async",
      "delete_knowledge_point_async",
      "get_statistics_async",
      "add_review_success_async",
      "cleanup",
      "import_from_json_async",
      "add_knowledge_point_async",
      "search_knowledge_points_async",
      "search_knowledge_points",
      "get_review_candidates_async",
      "import_from_json"
    ],
    "method_overlap": 0.5333333333333333
  },
  "error_handling_comparison": {
    "invalid_id_handling": {
      "json_handles": true,
      "db_handles": true,
      "consistent": true
    },
    "overall_consistency": 1.0
  },
  "overall_assessment": {
    "individual_scores": {
      "api_compatibility": 0.5714285714285714,
      "data_model_consistency": 1.0,
      "statistics_consistency": 0.25,
      "performance_consistency": 1.0,
      "method_availability": 0.5333333333333333,
      "error_handling": 1.0
    },
    "overall_score": 0.6353571428571428,
    "grade": "⚠️ 存在顯著差異",
    "weights": {
      "api_compatibility": 0.25,
      "data_model_consistency": 0.2,
      "statistics_consistency": 0.25,
      "performance_consistency": 0.1,
      "method_availability": 0.15,
      "error_handling": 0.05
    }
  },
  "analysis_duration": 0.05006575584411621
}